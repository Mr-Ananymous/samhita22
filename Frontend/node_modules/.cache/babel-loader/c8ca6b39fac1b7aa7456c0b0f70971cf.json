{"ast":null,"code":"function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport toArray from \"rc-util/es/Children/toArray\";\nimport warning from '../_util/warning';\nimport ResponsiveObserve, { responsiveArray } from '../_util/responsiveObserve';\nimport { ConfigConsumer } from '../config-provider';\nimport Col from './Col'; // https://github.com/smooth-code/react-flatten-children/\n\nfunction flattenChildren(children) {\n  if (!children) {\n    return [];\n  }\n\n  return toArray(children).reduce(function (flatChildren, child) {\n    if (child && child.type === React.Fragment) {\n      return flatChildren.concat(flattenChildren(child.props.children));\n    }\n\n    flatChildren.push(child);\n    return flatChildren;\n  }, []);\n}\n\nvar DescriptionsItem = function DescriptionsItem(_ref) {\n  var children = _ref.children;\n  return children;\n};\n/**\n * Convert children into `column` groups.\n * @param children: DescriptionsItem\n * @param column: number\n */\n\n\nvar generateChildrenRows = function generateChildrenRows(children, column) {\n  var rows = [];\n  var columns = null;\n  var leftSpans;\n  var itemNodes = flattenChildren(children);\n  itemNodes.forEach(function (node, index) {\n    var itemNode = node;\n\n    if (!columns) {\n      leftSpans = column;\n      columns = [];\n      rows.push(columns);\n    } // Always set last span to align the end of Descriptions\n\n\n    var lastItem = index === itemNodes.length - 1;\n    var lastSpanSame = true;\n\n    if (lastItem) {\n      lastSpanSame = !itemNode.props.span || itemNode.props.span === leftSpans;\n      itemNode = React.cloneElement(itemNode, {\n        span: leftSpans\n      });\n    } // Calculate left fill span\n\n\n    var _itemNode$props$span = itemNode.props.span,\n        span = _itemNode$props$span === void 0 ? 1 : _itemNode$props$span;\n    columns.push(itemNode);\n    leftSpans -= span;\n\n    if (leftSpans <= 0) {\n      columns = null;\n      warning(leftSpans === 0 && lastSpanSame, 'Descriptions', 'Sum of column `span` in a line exceeds `column` of Descriptions.');\n    }\n  });\n  return rows;\n};\n\nvar renderRow = function renderRow(children, index, _ref2, bordered, layout, colon) {\n  var prefixCls = _ref2.prefixCls;\n\n  var renderCol = function renderCol(colItem, type, idx) {\n    return React.createElement(Col, {\n      child: colItem,\n      bordered: bordered,\n      colon: colon,\n      type: type,\n      key: \"\".concat(type, \"-\").concat(colItem.key || idx),\n      layout: layout\n    });\n  };\n\n  var cloneChildren = [];\n  var cloneContentChildren = [];\n  flattenChildren(children).forEach(function (childrenItem, idx) {\n    cloneChildren.push(renderCol(childrenItem, 'label', idx));\n\n    if (layout === 'vertical') {\n      cloneContentChildren.push(renderCol(childrenItem, 'content', idx));\n    } else if (bordered) {\n      cloneChildren.push(renderCol(childrenItem, 'content', idx));\n    }\n  });\n\n  if (layout === 'vertical') {\n    return [React.createElement(\"tr\", {\n      className: \"\".concat(prefixCls, \"-row\"),\n      key: \"label-\".concat(index)\n    }, cloneChildren), React.createElement(\"tr\", {\n      className: \"\".concat(prefixCls, \"-row\"),\n      key: \"content-\".concat(index)\n    }, cloneContentChildren)];\n  }\n\n  return React.createElement(\"tr\", {\n    className: \"\".concat(prefixCls, \"-row\"),\n    key: index\n  }, cloneChildren);\n};\n\nvar defaultColumnMap = {\n  xxl: 3,\n  xl: 3,\n  lg: 3,\n  md: 3,\n  sm: 2,\n  xs: 1\n};\n\nvar Descriptions = /*#__PURE__*/function (_React$Component) {\n  _inherits(Descriptions, _React$Component);\n\n  function Descriptions() {\n    var _this;\n\n    _classCallCheck(this, Descriptions);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Descriptions).apply(this, arguments));\n    _this.state = {\n      screens: {}\n    };\n    return _this;\n  }\n\n  _createClass(Descriptions, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var column = this.props.column;\n      this.token = ResponsiveObserve.subscribe(function (screens) {\n        if (_typeof(column) !== 'object') {\n          return;\n        }\n\n        _this2.setState({\n          screens: screens\n        });\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      ResponsiveObserve.unsubscribe(this.token);\n    }\n  }, {\n    key: \"getColumn\",\n    value: function getColumn() {\n      var column = this.props.column;\n\n      if (_typeof(column) === 'object') {\n        for (var i = 0; i < responsiveArray.length; i++) {\n          var breakpoint = responsiveArray[i];\n\n          if (this.state.screens[breakpoint] && column[breakpoint] !== undefined) {\n            return column[breakpoint] || defaultColumnMap[breakpoint];\n          }\n        }\n      } // If the configuration is not an object, it is a number, return number\n\n\n      if (typeof column === 'number') {\n        return column;\n      } // If it is an object, but no response is found, this happens only in the test.\n      // Maybe there are some strange environments\n\n\n      return 3;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(ConfigConsumer, null, function (_ref3) {\n        var _classNames;\n\n        var getPrefixCls = _ref3.getPrefixCls;\n        var _this3$props = _this3.props,\n            className = _this3$props.className,\n            customizePrefixCls = _this3$props.prefixCls,\n            title = _this3$props.title,\n            size = _this3$props.size,\n            children = _this3$props.children,\n            _this3$props$bordered = _this3$props.bordered,\n            bordered = _this3$props$bordered === void 0 ? false : _this3$props$bordered,\n            _this3$props$layout = _this3$props.layout,\n            layout = _this3$props$layout === void 0 ? 'horizontal' : _this3$props$layout,\n            _this3$props$colon = _this3$props.colon,\n            colon = _this3$props$colon === void 0 ? true : _this3$props$colon,\n            style = _this3$props.style;\n        var prefixCls = getPrefixCls('descriptions', customizePrefixCls);\n\n        var column = _this3.getColumn();\n\n        var cloneChildren = flattenChildren(children).map(function (child) {\n          if (React.isValidElement(child)) {\n            return React.cloneElement(child, {\n              prefixCls: prefixCls\n            });\n          }\n\n          return null;\n        }).filter(function (node) {\n          return node;\n        });\n        var childrenArray = generateChildrenRows(cloneChildren, column);\n        return React.createElement(\"div\", {\n          className: classNames(prefixCls, className, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-\").concat(size), size !== 'default'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-bordered\"), !!bordered), _classNames)),\n          style: style\n        }, title && React.createElement(\"div\", {\n          className: \"\".concat(prefixCls, \"-title\")\n        }, title), React.createElement(\"div\", {\n          className: \"\".concat(prefixCls, \"-view\")\n        }, React.createElement(\"table\", null, React.createElement(\"tbody\", null, childrenArray.map(function (child, index) {\n          return renderRow(child, index, {\n            prefixCls: prefixCls\n          }, bordered, layout, colon);\n        })))));\n      });\n    }\n  }]);\n\n  return Descriptions;\n}(React.Component);\n\nDescriptions.defaultProps = {\n  size: 'default',\n  column: defaultColumnMap\n};\nDescriptions.Item = DescriptionsItem;\nexport default Descriptions;","map":{"version":3,"mappings":"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","names":["React","classNames","toArray","warning","ResponsiveObserve","responsiveArray","ConfigConsumer","Col","flattenChildren","children","reduce","flatChildren","child","type","Fragment","concat","props","push","DescriptionsItem","generateChildrenRows","column","rows","columns","leftSpans","itemNodes","forEach","node","index","itemNode","lastItem","length","lastSpanSame","span","cloneElement","renderRow","bordered","layout","colon","prefixCls","renderCol","colItem","idx","key","cloneChildren","cloneContentChildren","childrenItem","className","defaultColumnMap","xxl","xl","lg","md","sm","xs","Descriptions","_classCallCheck","_this","arguments","state","screens","token","subscribe","_typeof","_this2","setState","unsubscribe","i","breakpoint","undefined","getPrefixCls","_this3","customizePrefixCls","title","size","style","getColumn","map","isValidElement","filter","childrenArray","Component","defaultProps","Item"],"sources":["descriptions/index.jsx"],"sourcesContent":["import * as React from 'react';\nimport classNames from 'classnames';\nimport toArray from 'rc-util/lib/Children/toArray';\nimport warning from '../_util/warning';\nimport ResponsiveObserve, { responsiveArray, } from '../_util/responsiveObserve';\nimport { ConfigConsumer } from '../config-provider';\nimport Col from './Col';\n// https://github.com/smooth-code/react-flatten-children/\nfunction flattenChildren(children) {\n    if (!children) {\n        return [];\n    }\n    return toArray(children).reduce((flatChildren, child) => {\n        if (child && child.type === React.Fragment) {\n            return flatChildren.concat(flattenChildren(child.props.children));\n        }\n        flatChildren.push(child);\n        return flatChildren;\n    }, []);\n}\nconst DescriptionsItem = ({ children }) => children;\n/**\n * Convert children into `column` groups.\n * @param children: DescriptionsItem\n * @param column: number\n */\nconst generateChildrenRows = (children, column) => {\n    const rows = [];\n    let columns = null;\n    let leftSpans;\n    const itemNodes = flattenChildren(children);\n    itemNodes.forEach((node, index) => {\n        let itemNode = node;\n        if (!columns) {\n            leftSpans = column;\n            columns = [];\n            rows.push(columns);\n        }\n        // Always set last span to align the end of Descriptions\n        const lastItem = index === itemNodes.length - 1;\n        let lastSpanSame = true;\n        if (lastItem) {\n            lastSpanSame = !itemNode.props.span || itemNode.props.span === leftSpans;\n            itemNode = React.cloneElement(itemNode, {\n                span: leftSpans,\n            });\n        }\n        // Calculate left fill span\n        const { span = 1 } = itemNode.props;\n        columns.push(itemNode);\n        leftSpans -= span;\n        if (leftSpans <= 0) {\n            columns = null;\n            warning(leftSpans === 0 && lastSpanSame, 'Descriptions', 'Sum of column `span` in a line exceeds `column` of Descriptions.');\n        }\n    });\n    return rows;\n};\nconst renderRow = (children, index, { prefixCls }, bordered, layout, colon) => {\n    const renderCol = (colItem, type, idx) => {\n        return (<Col child={colItem} bordered={bordered} colon={colon} type={type} key={`${type}-${colItem.key || idx}`} layout={layout}/>);\n    };\n    const cloneChildren = [];\n    const cloneContentChildren = [];\n    flattenChildren(children).forEach((childrenItem, idx) => {\n        cloneChildren.push(renderCol(childrenItem, 'label', idx));\n        if (layout === 'vertical') {\n            cloneContentChildren.push(renderCol(childrenItem, 'content', idx));\n        }\n        else if (bordered) {\n            cloneChildren.push(renderCol(childrenItem, 'content', idx));\n        }\n    });\n    if (layout === 'vertical') {\n        return [\n            <tr className={`${prefixCls}-row`} key={`label-${index}`}>\n        {cloneChildren}\n      </tr>,\n            <tr className={`${prefixCls}-row`} key={`content-${index}`}>\n        {cloneContentChildren}\n      </tr>,\n        ];\n    }\n    return (<tr className={`${prefixCls}-row`} key={index}>\n      {cloneChildren}\n    </tr>);\n};\nconst defaultColumnMap = {\n    xxl: 3,\n    xl: 3,\n    lg: 3,\n    md: 3,\n    sm: 2,\n    xs: 1,\n};\nclass Descriptions extends React.Component {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            screens: {},\n        };\n    }\n    componentDidMount() {\n        const { column } = this.props;\n        this.token = ResponsiveObserve.subscribe(screens => {\n            if (typeof column !== 'object') {\n                return;\n            }\n            this.setState({\n                screens,\n            });\n        });\n    }\n    componentWillUnmount() {\n        ResponsiveObserve.unsubscribe(this.token);\n    }\n    getColumn() {\n        const { column } = this.props;\n        if (typeof column === 'object') {\n            for (let i = 0; i < responsiveArray.length; i++) {\n                const breakpoint = responsiveArray[i];\n                if (this.state.screens[breakpoint] && column[breakpoint] !== undefined) {\n                    return column[breakpoint] || defaultColumnMap[breakpoint];\n                }\n            }\n        }\n        // If the configuration is not an object, it is a number, return number\n        if (typeof column === 'number') {\n            return column;\n        }\n        // If it is an object, but no response is found, this happens only in the test.\n        // Maybe there are some strange environments\n        return 3;\n    }\n    render() {\n        return (<ConfigConsumer>\n        {({ getPrefixCls }) => {\n            const { className, prefixCls: customizePrefixCls, title, size, children, bordered = false, layout = 'horizontal', colon = true, style, } = this.props;\n            const prefixCls = getPrefixCls('descriptions', customizePrefixCls);\n            const column = this.getColumn();\n            const cloneChildren = flattenChildren(children)\n                .map((child) => {\n                if (React.isValidElement(child)) {\n                    return React.cloneElement(child, {\n                        prefixCls,\n                    });\n                }\n                return null;\n            })\n                .filter((node) => node);\n            const childrenArray = generateChildrenRows(cloneChildren, column);\n            return (<div className={classNames(prefixCls, className, {\n                [`${prefixCls}-${size}`]: size !== 'default',\n                [`${prefixCls}-bordered`]: !!bordered,\n            })} style={style}>\n              {title && <div className={`${prefixCls}-title`}>{title}</div>}\n              <div className={`${prefixCls}-view`}>\n                <table>\n                  <tbody>\n                    {childrenArray.map((child, index) => renderRow(child, index, {\n                prefixCls,\n            }, bordered, layout, colon))}\n                  </tbody>\n                </table>\n              </div>\n            </div>);\n        }}\n      </ConfigConsumer>);\n    }\n}\nDescriptions.defaultProps = {\n    size: 'default',\n    column: defaultColumnMap,\n};\nDescriptions.Item = DescriptionsItem;\nexport default Descriptions;\n"]},"metadata":{},"sourceType":"module"}