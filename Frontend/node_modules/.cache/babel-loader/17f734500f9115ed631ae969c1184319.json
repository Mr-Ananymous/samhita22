{"ast":null,"code":"function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n/* tslint:disable jsx-no-multiline-js */\n\n\nimport * as React from 'react';\nimport * as moment from 'moment';\nimport { polyfill } from 'react-lifecycles-compat';\nimport RangeCalendar from \"rc-calendar/es/RangeCalendar\";\nimport RcDatePicker from \"rc-calendar/es/Picker\";\nimport classNames from 'classnames';\nimport shallowequal from 'shallowequal';\nimport Icon from '../icon';\nimport Tag from '../tag';\nimport { ConfigConsumer } from '../config-provider';\nimport warning from '../_util/warning';\nimport interopDefault from '../_util/interopDefault';\nimport { formatDate } from './utils';\nimport InputIcon from './InputIcon';\n\nfunction getShowDateFromValue(value, mode) {\n  var _value = _slicedToArray(value, 2),\n      start = _value[0],\n      end = _value[1]; // value could be an empty array, then we should not reset showDate\n\n\n  if (!start && !end) {\n    return;\n  }\n\n  if (mode && mode[0] === 'month') {\n    return [start, end];\n  }\n\n  var newEnd = end && end.isSame(start, 'month') ? end.clone().add(1, 'month') : end;\n  return [start, newEnd];\n}\n\nfunction pickerValueAdapter(value) {\n  if (!value) {\n    return;\n  }\n\n  if (Array.isArray(value)) {\n    return value;\n  }\n\n  return [value, value.clone().add(1, 'month')];\n}\n\nfunction isEmptyArray(arr) {\n  if (Array.isArray(arr)) {\n    return arr.length === 0 || arr.every(function (i) {\n      return !i;\n    });\n  }\n\n  return false;\n}\n\nfunction fixLocale(value, localeCode) {\n  if (!localeCode) {\n    return;\n  }\n\n  if (!value || value.length === 0) {\n    return;\n  }\n\n  var _value2 = _slicedToArray(value, 2),\n      start = _value2[0],\n      end = _value2[1];\n\n  if (start) {\n    start.locale(localeCode);\n  }\n\n  if (end) {\n    end.locale(localeCode);\n  }\n}\n\nvar RangePicker = /*#__PURE__*/function (_React$Component) {\n  _inherits(RangePicker, _React$Component);\n\n  function RangePicker(props) {\n    var _this;\n\n    _classCallCheck(this, RangePicker);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(RangePicker).call(this, props));\n\n    _this.savePicker = function (node) {\n      _this.picker = node;\n    };\n\n    _this.clearSelection = function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      _this.setState({\n        value: []\n      });\n\n      _this.handleChange([]);\n    };\n\n    _this.clearHoverValue = function () {\n      return _this.setState({\n        hoverValue: []\n      });\n    };\n\n    _this.handleChange = function (value) {\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          props = _assertThisInitialize.props;\n\n      if (!('value' in props)) {\n        _this.setState(function (_ref) {\n          var showDate = _ref.showDate;\n          return {\n            value: value,\n            showDate: getShowDateFromValue(value) || showDate\n          };\n        });\n      }\n\n      if (value[0] && value[0].diff(value[1]) > 0) {\n        value[1] = undefined;\n      }\n\n      var _value3 = _slicedToArray(value, 2),\n          start = _value3[0],\n          end = _value3[1];\n\n      if (typeof props.onChange === 'function') {\n        props.onChange(value, [formatDate(start, props.format), formatDate(end, props.format)]);\n      }\n    };\n\n    _this.handleOpenChange = function (open) {\n      if (!('open' in _this.props)) {\n        _this.setState({\n          open: open\n        });\n      }\n\n      if (open === false) {\n        _this.clearHoverValue();\n      }\n\n      var onOpenChange = _this.props.onOpenChange;\n\n      if (onOpenChange) {\n        onOpenChange(open);\n      }\n    };\n\n    _this.handleShowDateChange = function (showDate) {\n      return _this.setState({\n        showDate: showDate\n      });\n    };\n\n    _this.handleHoverChange = function (hoverValue) {\n      return _this.setState({\n        hoverValue: hoverValue\n      });\n    };\n\n    _this.handleRangeMouseLeave = function () {\n      if (_this.state.open) {\n        _this.clearHoverValue();\n      }\n    };\n\n    _this.handleCalendarInputSelect = function (value) {\n      var _value4 = _slicedToArray(value, 1),\n          start = _value4[0];\n\n      if (!start) {\n        return;\n      }\n\n      _this.setState(function (_ref2) {\n        var showDate = _ref2.showDate;\n        return {\n          value: value,\n          showDate: getShowDateFromValue(value) || showDate\n        };\n      });\n    };\n\n    _this.handleRangeClick = function (value) {\n      if (typeof value === 'function') {\n        value = value();\n      }\n\n      _this.setValue(value, true);\n\n      var _this$props = _this.props,\n          onOk = _this$props.onOk,\n          onOpenChange = _this$props.onOpenChange;\n\n      if (onOk) {\n        onOk(value);\n      }\n\n      if (onOpenChange) {\n        onOpenChange(false);\n      }\n    };\n\n    _this.renderFooter = function () {\n      var _this$props2 = _this.props,\n          ranges = _this$props2.ranges,\n          renderExtraFooter = _this$props2.renderExtraFooter;\n\n      var _assertThisInitialize2 = _assertThisInitialized(_this),\n          prefixCls = _assertThisInitialize2.prefixCls,\n          tagPrefixCls = _assertThisInitialize2.tagPrefixCls;\n\n      if (!ranges && !renderExtraFooter) {\n        return null;\n      }\n\n      var customFooter = renderExtraFooter ? React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-footer-extra\"),\n        key: \"extra\"\n      }, renderExtraFooter()) : null;\n      var operations = ranges && Object.keys(ranges).map(function (range) {\n        var value = ranges[range];\n        var hoverValue = typeof value === 'function' ? value.call(_assertThisInitialized(_this)) : value;\n        return React.createElement(Tag, {\n          key: range,\n          prefixCls: tagPrefixCls,\n          color: \"blue\",\n          onClick: function onClick() {\n            return _this.handleRangeClick(value);\n          },\n          onMouseEnter: function onMouseEnter() {\n            return _this.setState({\n              hoverValue: hoverValue\n            });\n          },\n          onMouseLeave: _this.handleRangeMouseLeave\n        }, range);\n      });\n      var rangeNode = operations && operations.length > 0 ? React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-footer-extra \").concat(prefixCls, \"-range-quick-selector\"),\n        key: \"range\"\n      }, operations) : null;\n      return [rangeNode, customFooter];\n    };\n\n    _this.renderRangePicker = function (_ref3) {\n      var _classNames;\n\n      var getPrefixCls = _ref3.getPrefixCls;\n\n      var _assertThisInitialize3 = _assertThisInitialized(_this),\n          state = _assertThisInitialize3.state,\n          props = _assertThisInitialize3.props;\n\n      var value = state.value,\n          showDate = state.showDate,\n          hoverValue = state.hoverValue,\n          open = state.open;\n      var customizePrefixCls = props.prefixCls,\n          customizeTagPrefixCls = props.tagPrefixCls,\n          popupStyle = props.popupStyle,\n          style = props.style,\n          disabledDate = props.disabledDate,\n          disabledTime = props.disabledTime,\n          showTime = props.showTime,\n          showToday = props.showToday,\n          ranges = props.ranges,\n          onOk = props.onOk,\n          locale = props.locale,\n          localeCode = props.localeCode,\n          format = props.format,\n          dateRender = props.dateRender,\n          onCalendarChange = props.onCalendarChange,\n          suffixIcon = props.suffixIcon,\n          separator = props.separator;\n      var prefixCls = getPrefixCls('calendar', customizePrefixCls);\n      var tagPrefixCls = getPrefixCls('tag', customizeTagPrefixCls); // To support old version react.\n      // Have to add prefixCls on the instance.\n      // https://github.com/facebook/react/issues/12397\n\n      _this.prefixCls = prefixCls;\n      _this.tagPrefixCls = tagPrefixCls;\n      fixLocale(value, localeCode);\n      fixLocale(showDate, localeCode);\n      warning(!('onOK' in props), 'RangePicker', 'It should be `RangePicker[onOk]`, instead of `onOK`!');\n      var calendarClassName = classNames((_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-time\"), showTime), _defineProperty(_classNames, \"\".concat(prefixCls, \"-range-with-ranges\"), ranges), _classNames)); // 需要选择时间时，点击 ok 时才触发 onChange\n\n      var pickerChangeHandler = {\n        onChange: _this.handleChange\n      };\n      var calendarProps = {\n        onOk: _this.handleChange\n      };\n\n      if (props.timePicker) {\n        pickerChangeHandler.onChange = function (changedValue) {\n          return _this.handleChange(changedValue);\n        };\n      } else {\n        calendarProps = {};\n      }\n\n      if ('mode' in props) {\n        calendarProps.mode = props.mode;\n      }\n\n      var startPlaceholder = Array.isArray(props.placeholder) ? props.placeholder[0] : locale.lang.rangePlaceholder[0];\n      var endPlaceholder = Array.isArray(props.placeholder) ? props.placeholder[1] : locale.lang.rangePlaceholder[1];\n      var calendar = React.createElement(RangeCalendar, _extends({}, calendarProps, {\n        seperator: separator,\n        onChange: onCalendarChange,\n        format: format,\n        prefixCls: prefixCls,\n        className: calendarClassName,\n        renderFooter: _this.renderFooter,\n        timePicker: props.timePicker,\n        disabledDate: disabledDate,\n        disabledTime: disabledTime,\n        dateInputPlaceholder: [startPlaceholder, endPlaceholder],\n        locale: locale.lang,\n        onOk: onOk,\n        dateRender: dateRender,\n        value: showDate,\n        onValueChange: _this.handleShowDateChange,\n        hoverValue: hoverValue,\n        onHoverChange: _this.handleHoverChange,\n        onPanelChange: props.onPanelChange,\n        showToday: showToday,\n        onInputSelect: _this.handleCalendarInputSelect\n      })); // default width for showTime\n\n      var pickerStyle = {};\n\n      if (props.showTime) {\n        pickerStyle.width = style && style.width || 350;\n      }\n\n      var _value5 = _slicedToArray(value, 2),\n          startValue = _value5[0],\n          endValue = _value5[1];\n\n      var clearIcon = !props.disabled && props.allowClear && value && (startValue || endValue) ? React.createElement(Icon, {\n        type: \"close-circle\",\n        className: \"\".concat(prefixCls, \"-picker-clear\"),\n        onClick: _this.clearSelection,\n        theme: \"filled\"\n      }) : null;\n      var inputIcon = React.createElement(InputIcon, {\n        suffixIcon: suffixIcon,\n        prefixCls: prefixCls\n      });\n\n      var input = function input(_ref4) {\n        var inputValue = _ref4.value;\n\n        var _inputValue = _slicedToArray(inputValue, 2),\n            start = _inputValue[0],\n            end = _inputValue[1];\n\n        return React.createElement(\"span\", {\n          className: props.pickerInputClass\n        }, React.createElement(\"input\", {\n          disabled: props.disabled,\n          readOnly: true,\n          value: formatDate(start, props.format),\n          placeholder: startPlaceholder,\n          className: \"\".concat(prefixCls, \"-range-picker-input\"),\n          tabIndex: -1\n        }), React.createElement(\"span\", {\n          className: \"\".concat(prefixCls, \"-range-picker-separator\")\n        }, \" \", separator, \" \"), React.createElement(\"input\", {\n          disabled: props.disabled,\n          readOnly: true,\n          value: formatDate(end, props.format),\n          placeholder: endPlaceholder,\n          className: \"\".concat(prefixCls, \"-range-picker-input\"),\n          tabIndex: -1\n        }), clearIcon, inputIcon);\n      };\n\n      return React.createElement(\"span\", {\n        ref: _this.savePicker,\n        id: typeof props.id === 'number' ? props.id.toString() : props.id,\n        className: classNames(props.className, props.pickerClass),\n        style: _extends(_extends({}, style), pickerStyle),\n        tabIndex: props.disabled ? -1 : 0,\n        onFocus: props.onFocus,\n        onBlur: props.onBlur,\n        onMouseEnter: props.onMouseEnter,\n        onMouseLeave: props.onMouseLeave\n      }, React.createElement(RcDatePicker, _extends({}, props, pickerChangeHandler, {\n        calendar: calendar,\n        value: value,\n        open: open,\n        onOpenChange: _this.handleOpenChange,\n        prefixCls: \"\".concat(prefixCls, \"-picker-container\"),\n        style: popupStyle\n      }), input));\n    };\n\n    var value = props.value || props.defaultValue || [];\n\n    var _value6 = _slicedToArray(value, 2),\n        start = _value6[0],\n        end = _value6[1];\n\n    if (start && !interopDefault(moment).isMoment(start) || end && !interopDefault(moment).isMoment(end)) {\n      throw new Error('The value/defaultValue of RangePicker must be a moment object array after `antd@2.0`, ' + 'see: https://u.ant.design/date-picker-value');\n    }\n\n    var pickerValue = !value || isEmptyArray(value) ? props.defaultPickerValue : value;\n    _this.state = {\n      value: value,\n      showDate: pickerValueAdapter(pickerValue || interopDefault(moment)()),\n      open: props.open,\n      hoverValue: []\n    };\n    return _this;\n  }\n\n  _createClass(RangePicker, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(_, prevState) {\n      if (!('open' in this.props) && prevState.open && !this.state.open) {\n        this.focus();\n      }\n    }\n  }, {\n    key: \"setValue\",\n    value: function setValue(value, hidePanel) {\n      this.handleChange(value);\n\n      if ((hidePanel || !this.props.showTime) && !('open' in this.props)) {\n        this.setState({\n          open: false\n        });\n      }\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      this.picker.focus();\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      this.picker.blur();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(ConfigConsumer, null, this.renderRangePicker);\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var state = null;\n\n      if ('value' in nextProps) {\n        var value = nextProps.value || [];\n        state = {\n          value: value\n        };\n\n        if (!shallowequal(nextProps.value, prevState.value)) {\n          state = _extends(_extends({}, state), {\n            showDate: getShowDateFromValue(value, nextProps.mode) || prevState.showDate\n          });\n        }\n      }\n\n      if ('open' in nextProps && prevState.open !== nextProps.open) {\n        state = _extends(_extends({}, state), {\n          open: nextProps.open\n        });\n      }\n\n      return state;\n    }\n  }]);\n\n  return RangePicker;\n}(React.Component);\n\nRangePicker.defaultProps = {\n  allowClear: true,\n  showToday: false,\n  separator: '~'\n};\npolyfill(RangePicker);\nexport default RangePicker;","map":{"version":3,"mappings":"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","names":["React","moment","polyfill","RangeCalendar","RcDatePicker","classNames","shallowequal","Icon","Tag","ConfigConsumer","warning","interopDefault","formatDate","InputIcon","getShowDateFromValue","value","mode","start","end","newEnd","isSame","clone","add","pickerValueAdapter","Array","isArray","isEmptyArray","arr","length","every","i","fixLocale","localeCode","locale","RangePicker","props","_classCallCheck","_this","savePicker","node","picker","clearSelection","e","preventDefault","stopPropagation","setState","handleChange","clearHoverValue","hoverValue","showDate","diff","undefined","onChange","format","handleOpenChange","open","onOpenChange","handleShowDateChange","handleHoverChange","handleRangeMouseLeave","state","handleCalendarInputSelect","handleRangeClick","setValue","onOk","renderFooter","ranges","renderExtraFooter","prefixCls","tagPrefixCls","customFooter","className","key","operations","Object","keys","map","range","call","color","onClick","onMouseEnter","onMouseLeave","rangeNode","renderRangePicker","getPrefixCls","customizePrefixCls","customizeTagPrefixCls","popupStyle","style","disabledDate","disabledTime","showTime","showToday","dateRender","onCalendarChange","suffixIcon","separator","calendarClassName","pickerChangeHandler","calendarProps","timePicker","changedValue","startPlaceholder","placeholder","lang","rangePlaceholder","endPlaceholder","calendar","seperator","dateInputPlaceholder","onValueChange","onHoverChange","onPanelChange","onInputSelect","pickerStyle","width","startValue","endValue","clearIcon","disabled","allowClear","type","theme","inputIcon","input","inputValue","pickerInputClass","readOnly","tabIndex","ref","id","toString","pickerClass","_extends","onFocus","onBlur","defaultValue","isMoment","Error","pickerValue","defaultPickerValue","_","prevState","focus","hidePanel","blur","nextProps","Component","defaultProps"],"sources":["date-picker/RangePicker.jsx"],"sourcesContent":["/* tslint:disable jsx-no-multiline-js */\nimport * as React from 'react';\nimport * as moment from 'moment';\nimport { polyfill } from 'react-lifecycles-compat';\nimport RangeCalendar from 'rc-calendar/lib/RangeCalendar';\nimport RcDatePicker from 'rc-calendar/lib/Picker';\nimport classNames from 'classnames';\nimport shallowequal from 'shallowequal';\nimport Icon from '../icon';\nimport Tag from '../tag';\nimport { ConfigConsumer } from '../config-provider';\nimport warning from '../_util/warning';\nimport interopDefault from '../_util/interopDefault';\nimport { formatDate } from './utils';\nimport InputIcon from './InputIcon';\nfunction getShowDateFromValue(value, mode) {\n    const [start, end] = value;\n    // value could be an empty array, then we should not reset showDate\n    if (!start && !end) {\n        return;\n    }\n    if (mode && mode[0] === 'month') {\n        return [start, end];\n    }\n    const newEnd = end && end.isSame(start, 'month') ? end.clone().add(1, 'month') : end;\n    return [start, newEnd];\n}\nfunction pickerValueAdapter(value) {\n    if (!value) {\n        return;\n    }\n    if (Array.isArray(value)) {\n        return value;\n    }\n    return [value, value.clone().add(1, 'month')];\n}\nfunction isEmptyArray(arr) {\n    if (Array.isArray(arr)) {\n        return arr.length === 0 || arr.every(i => !i);\n    }\n    return false;\n}\nfunction fixLocale(value, localeCode) {\n    if (!localeCode) {\n        return;\n    }\n    if (!value || value.length === 0) {\n        return;\n    }\n    const [start, end] = value;\n    if (start) {\n        start.locale(localeCode);\n    }\n    if (end) {\n        end.locale(localeCode);\n    }\n}\nclass RangePicker extends React.Component {\n    constructor(props) {\n        super(props);\n        this.savePicker = (node) => {\n            this.picker = node;\n        };\n        this.clearSelection = (e) => {\n            e.preventDefault();\n            e.stopPropagation();\n            this.setState({ value: [] });\n            this.handleChange([]);\n        };\n        this.clearHoverValue = () => this.setState({ hoverValue: [] });\n        this.handleChange = (value) => {\n            const { props } = this;\n            if (!('value' in props)) {\n                this.setState(({ showDate }) => ({\n                    value,\n                    showDate: getShowDateFromValue(value) || showDate,\n                }));\n            }\n            if (value[0] && value[0].diff(value[1]) > 0) {\n                value[1] = undefined;\n            }\n            const [start, end] = value;\n            if (typeof props.onChange === 'function') {\n                props.onChange(value, [formatDate(start, props.format), formatDate(end, props.format)]);\n            }\n        };\n        this.handleOpenChange = (open) => {\n            if (!('open' in this.props)) {\n                this.setState({ open });\n            }\n            if (open === false) {\n                this.clearHoverValue();\n            }\n            const { onOpenChange } = this.props;\n            if (onOpenChange) {\n                onOpenChange(open);\n            }\n        };\n        this.handleShowDateChange = (showDate) => this.setState({ showDate });\n        this.handleHoverChange = (hoverValue) => this.setState({ hoverValue });\n        this.handleRangeMouseLeave = () => {\n            if (this.state.open) {\n                this.clearHoverValue();\n            }\n        };\n        this.handleCalendarInputSelect = (value) => {\n            const [start] = value;\n            if (!start) {\n                return;\n            }\n            this.setState(({ showDate }) => ({\n                value,\n                showDate: getShowDateFromValue(value) || showDate,\n            }));\n        };\n        this.handleRangeClick = (value) => {\n            if (typeof value === 'function') {\n                value = value();\n            }\n            this.setValue(value, true);\n            const { onOk, onOpenChange } = this.props;\n            if (onOk) {\n                onOk(value);\n            }\n            if (onOpenChange) {\n                onOpenChange(false);\n            }\n        };\n        this.renderFooter = () => {\n            const { ranges, renderExtraFooter } = this.props;\n            const { prefixCls, tagPrefixCls } = this;\n            if (!ranges && !renderExtraFooter) {\n                return null;\n            }\n            const customFooter = renderExtraFooter ? (<div className={`${prefixCls}-footer-extra`} key=\"extra\">\n        {renderExtraFooter()}\n      </div>) : null;\n            const operations = ranges &&\n                Object.keys(ranges).map(range => {\n                    const value = ranges[range];\n                    const hoverValue = typeof value === 'function' ? value.call(this) : value;\n                    return (<Tag key={range} prefixCls={tagPrefixCls} color=\"blue\" onClick={() => this.handleRangeClick(value)} onMouseEnter={() => this.setState({ hoverValue })} onMouseLeave={this.handleRangeMouseLeave}>\n            {range}\n          </Tag>);\n                });\n            const rangeNode = operations && operations.length > 0 ? (<div className={`${prefixCls}-footer-extra ${prefixCls}-range-quick-selector`} key=\"range\">\n          {operations}\n        </div>) : null;\n            return [rangeNode, customFooter];\n        };\n        this.renderRangePicker = ({ getPrefixCls }) => {\n            const { state, props } = this;\n            const { value, showDate, hoverValue, open } = state;\n            const { prefixCls: customizePrefixCls, tagPrefixCls: customizeTagPrefixCls, popupStyle, style, disabledDate, disabledTime, showTime, showToday, ranges, onOk, locale, \n            // @ts-ignore\n            localeCode, format, dateRender, onCalendarChange, suffixIcon, separator, } = props;\n            const prefixCls = getPrefixCls('calendar', customizePrefixCls);\n            const tagPrefixCls = getPrefixCls('tag', customizeTagPrefixCls);\n            // To support old version react.\n            // Have to add prefixCls on the instance.\n            // https://github.com/facebook/react/issues/12397\n            this.prefixCls = prefixCls;\n            this.tagPrefixCls = tagPrefixCls;\n            fixLocale(value, localeCode);\n            fixLocale(showDate, localeCode);\n            warning(!('onOK' in props), 'RangePicker', 'It should be `RangePicker[onOk]`, instead of `onOK`!');\n            const calendarClassName = classNames({\n                [`${prefixCls}-time`]: showTime,\n                [`${prefixCls}-range-with-ranges`]: ranges,\n            });\n            // 需要选择时间时，点击 ok 时才触发 onChange\n            const pickerChangeHandler = {\n                onChange: this.handleChange,\n            };\n            let calendarProps = {\n                onOk: this.handleChange,\n            };\n            if (props.timePicker) {\n                pickerChangeHandler.onChange = changedValue => this.handleChange(changedValue);\n            }\n            else {\n                calendarProps = {};\n            }\n            if ('mode' in props) {\n                calendarProps.mode = props.mode;\n            }\n            const startPlaceholder = Array.isArray(props.placeholder)\n                ? props.placeholder[0]\n                : locale.lang.rangePlaceholder[0];\n            const endPlaceholder = Array.isArray(props.placeholder)\n                ? props.placeholder[1]\n                : locale.lang.rangePlaceholder[1];\n            const calendar = (<RangeCalendar {...calendarProps} seperator={separator} onChange={onCalendarChange} format={format} prefixCls={prefixCls} className={calendarClassName} renderFooter={this.renderFooter} timePicker={props.timePicker} disabledDate={disabledDate} disabledTime={disabledTime} dateInputPlaceholder={[startPlaceholder, endPlaceholder]} locale={locale.lang} onOk={onOk} dateRender={dateRender} value={showDate} onValueChange={this.handleShowDateChange} hoverValue={hoverValue} onHoverChange={this.handleHoverChange} onPanelChange={props.onPanelChange} showToday={showToday} onInputSelect={this.handleCalendarInputSelect}/>);\n            // default width for showTime\n            const pickerStyle = {};\n            if (props.showTime) {\n                pickerStyle.width = (style && style.width) || 350;\n            }\n            const [startValue, endValue] = value;\n            const clearIcon = !props.disabled && props.allowClear && value && (startValue || endValue) ? (<Icon type=\"close-circle\" className={`${prefixCls}-picker-clear`} onClick={this.clearSelection} theme=\"filled\"/>) : null;\n            const inputIcon = <InputIcon suffixIcon={suffixIcon} prefixCls={prefixCls}/>;\n            const input = ({ value: inputValue }) => {\n                const [start, end] = inputValue;\n                return (<span className={props.pickerInputClass}>\n          <input disabled={props.disabled} readOnly value={formatDate(start, props.format)} placeholder={startPlaceholder} className={`${prefixCls}-range-picker-input`} tabIndex={-1}/>\n          <span className={`${prefixCls}-range-picker-separator`}> {separator} </span>\n          <input disabled={props.disabled} readOnly value={formatDate(end, props.format)} placeholder={endPlaceholder} className={`${prefixCls}-range-picker-input`} tabIndex={-1}/>\n          {clearIcon}\n          {inputIcon}\n        </span>);\n            };\n            return (<span ref={this.savePicker} id={typeof props.id === 'number' ? props.id.toString() : props.id} className={classNames(props.className, props.pickerClass)} style={Object.assign(Object.assign({}, style), pickerStyle)} tabIndex={props.disabled ? -1 : 0} onFocus={props.onFocus} onBlur={props.onBlur} onMouseEnter={props.onMouseEnter} onMouseLeave={props.onMouseLeave}>\n        <RcDatePicker {...props} {...pickerChangeHandler} calendar={calendar} value={value} open={open} onOpenChange={this.handleOpenChange} prefixCls={`${prefixCls}-picker-container`} style={popupStyle}>\n          {input}\n        </RcDatePicker>\n      </span>);\n        };\n        const value = props.value || props.defaultValue || [];\n        const [start, end] = value;\n        if ((start && !interopDefault(moment).isMoment(start)) ||\n            (end && !interopDefault(moment).isMoment(end))) {\n            throw new Error('The value/defaultValue of RangePicker must be a moment object array after `antd@2.0`, ' +\n                'see: https://u.ant.design/date-picker-value');\n        }\n        const pickerValue = !value || isEmptyArray(value) ? props.defaultPickerValue : value;\n        this.state = {\n            value,\n            showDate: pickerValueAdapter(pickerValue || interopDefault(moment)()),\n            open: props.open,\n            hoverValue: [],\n        };\n    }\n    static getDerivedStateFromProps(nextProps, prevState) {\n        let state = null;\n        if ('value' in nextProps) {\n            const value = nextProps.value || [];\n            state = {\n                value,\n            };\n            if (!shallowequal(nextProps.value, prevState.value)) {\n                state = Object.assign(Object.assign({}, state), { showDate: getShowDateFromValue(value, nextProps.mode) || prevState.showDate });\n            }\n        }\n        if ('open' in nextProps && prevState.open !== nextProps.open) {\n            state = Object.assign(Object.assign({}, state), { open: nextProps.open });\n        }\n        return state;\n    }\n    componentDidUpdate(_, prevState) {\n        if (!('open' in this.props) && prevState.open && !this.state.open) {\n            this.focus();\n        }\n    }\n    setValue(value, hidePanel) {\n        this.handleChange(value);\n        if ((hidePanel || !this.props.showTime) && !('open' in this.props)) {\n            this.setState({ open: false });\n        }\n    }\n    focus() {\n        this.picker.focus();\n    }\n    blur() {\n        this.picker.blur();\n    }\n    render() {\n        return <ConfigConsumer>{this.renderRangePicker}</ConfigConsumer>;\n    }\n}\nRangePicker.defaultProps = {\n    allowClear: true,\n    showToday: false,\n    separator: '~',\n};\npolyfill(RangePicker);\nexport default RangePicker;\n"]},"metadata":{},"sourceType":"module"}