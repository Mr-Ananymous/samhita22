{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\IamNi\\\\Desktop\\\\Samhita\\\\samhita22\\\\Frontend\\\\src\\\\pages\\\\Login.jsx\";\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { Helmet } from 'react-helmet';\nimport axios from 'axios';\nimport Navbar from '../components/Navbar';\nimport AOS from 'aos';\nimport Scroll from 'react-scroll';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faEye } from '@fortawesome/free-solid-svg-icons';\nimport { faEnvelope } from '@fortawesome/free-regular-svg-icons';\nimport { notification, Modal } from 'antd';\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\nimport LoginImage from '../assets/Login.png';\n\nclass Login extends Component {\n  constructor() {\n    super();\n\n    this.handleMouseDown = element => {\n      document.getElementById(element).type = 'text';\n    };\n\n    this.handleMouseUp = element => {\n      document.getElementById(element).type = 'password';\n    };\n\n    this.handleEmail = email => {\n      this.setState({\n        email: email.target.value\n      });\n    };\n\n    this.handlePassword = password => {\n      this.setState({\n        password: password.target.value\n      });\n    };\n\n    this.handleLogin = () => {\n      const {\n        email,\n        password\n      } = this.state;\n\n      if (email && password) {\n        if (email.match(/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/)) {\n          this.setState({\n            isLoading: true\n          }, () => {\n            axios.post('https://samhita-backend.herokuapp.com/login', {\n              mailid: email.toLowerCase(),\n              pass: password\n            }).then(res => {\n              this.setState({\n                isLoading: false\n              });\n\n              if (res.data.islogged === 'email_not') {\n                notification.warn({\n                  message: 'Oops!',\n                  description: 'It seems that you have not registered yet. Proceed to register',\n                  placement: 'topRight',\n                  duration: 3,\n                  top: 90,\n                  className: 'notification',\n                  onClose: this.props.history.push('/register')\n                });\n              } else if (res.data.islogged === 'pass_wrong') {\n                notification.warn({\n                  message: 'Oops!',\n                  description: 'Wrong password. Try again',\n                  placement: 'topRight',\n                  duration: 3,\n                  top: 90,\n                  className: 'notification'\n                });\n              } else if (res.data.islogged === 1) {\n                const userId = res.data.userid;\n                localStorage.setItem('loggedIn', 'true');\n                localStorage.setItem('id', userId);\n                notification.success({\n                  message: 'Welcome',\n                  description: 'Login successful!',\n                  placement: 'topRight',\n                  duration: 2,\n                  top: 90,\n                  className: 'notification'\n                });\n                this.props.history.replace('/account');\n              }\n            }).catch(err => {\n              this.setState({\n                isLoading: false\n              });\n              notification.error({\n                message: 'Oops',\n                description: 'An error occurred. Try again',\n                placement: 'topRight',\n                duration: 3,\n                top: 90,\n                className: 'notification'\n              });\n            });\n          });\n        } else {\n          notification.warn({\n            message: 'Oops!',\n            description: 'Enter a valid email address',\n            placement: 'topRight',\n            duration: 3,\n            top: 90,\n            className: 'notification'\n          });\n        }\n      } else {\n        notification.warn({\n          message: 'Not yet!',\n          description: 'Fill in all the fields',\n          placement: 'topRight',\n          duration: 3,\n          top: 90,\n          className: 'notification'\n        });\n      }\n    };\n\n    this.handleKeyPress = e => {\n      if (e.keyCode === 13) {\n        this.handleLogin();\n      }\n    };\n\n    this.handleMobile = number => {\n      this.mobile = number.target.value;\n    };\n\n    this.modal = () => Modal.info({\n      centered: true,\n      title: 'Enter your registered mobile number',\n      content: /*#__PURE__*/React.createElement(\"div\", {\n        className: \"field has-addons\",\n        style: {\n          marginTop: '10px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"control\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        className: \"button is-rounded is-static\",\n        style: {\n          paddingRight: '5px',\n          paddingLeft: '6px',\n          paddingTop: '8px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 17\n        }\n      }, \"+91\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"control is-expanded\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        id: \"forget-pwd-input\",\n        type: \"text\",\n        placeholder: \"Mobile number\",\n        className: \"input is-rounded\",\n        style: {\n          paddingLeft: '5px',\n          paddingRight: '5px'\n        },\n        onKeyDown: this.handleKeyPressPassword,\n        onChange: this.handleMobile,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"control\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"button is-rounded is-success forgot\",\n        onClick: this.handleForgetPassword,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 17\n        }\n      }, \"Get message\"))),\n\n      onOk() {},\n\n      okText: 'Close',\n      okType: 'default'\n    });\n\n    this.handleKeyPressPassword = e => {\n      if (e.keyCode === 13) {\n        this.handleForgetPassword();\n      }\n    };\n\n    this.handleForgetPassword = () => {\n      const successDescription = /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 36\n        }\n      }, \"Check your registered mobile number. Incase if you didn't receive a message, contact Gowtham: \", /*#__PURE__*/React.createElement(\"a\", {\n        href: \"tel: +91 7598130276\",\n        style: {\n          color: '#3273DC'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 133\n        }\n      }, \"+91 7598130276\"));\n      document.querySelector('.forgot').classList.add('is-loading');\n\n      if (this.mobile) {\n        if (this.mobile.match(/^\\d{10}$/)) {\n          axios.post('https://samhita-backend.herokuapp.com/forgotpassword', {\n            phonenumber: this.mobile\n          }).then(res => {\n            document.querySelector('.forgot').classList.remove('is-loading');\n\n            if (res.data.status === 'success') {\n              document.getElementById('forget-pwd-input').value = '';\n              notification.success({\n                message: 'Message sent!',\n                description: successDescription,\n                placement: 'topRight',\n                duration: 0,\n                top: 90,\n                className: 'notification'\n              });\n            } else if (res.data.status === 'failure') {\n              notification.info({\n                message: 'Not registered',\n                description: 'It seems that you have not signed up. Proceed to register',\n                placement: 'topRight',\n                duration: 0,\n                top: 90,\n                className: 'notification',\n                onClose: () => {\n                  this.props.history.push('/register');\n                }\n              });\n            }\n          }).catch(err => {\n            document.querySelector('.forgot').classList.remove('is-loading');\n\n            if (err.message === 'Network error') {\n              notification.error({\n                message: 'Oops!',\n                description: 'An error occurred. Try again',\n                placement: 'topRight',\n                duration: 3,\n                top: 90,\n                className: 'notification'\n              });\n            }\n          });\n        } else {\n          document.querySelector('.forgot').classList.remove('is-loading');\n          notification.warn({\n            message: 'Oops!',\n            description: 'Enter a valid mobile number',\n            placement: 'topRight',\n            duration: 3,\n            top: 90,\n            className: 'notification'\n          });\n        }\n      } else {\n        document.querySelector('.forgot').classList.remove('is-loading');\n        notification.warn({\n          message: 'Oops!',\n          description: 'Enter a mobile number',\n          placement: 'topRight',\n          duration: 3,\n          top: 90,\n          className: 'notification'\n        });\n      }\n    };\n\n    this.state = {\n      email: '',\n      password: '',\n      isLoading: false\n    };\n  }\n\n  componentDidMount() {\n    const scroll = Scroll.animateScroll;\n    scroll.scrollToTop({\n      duration: 100\n    });\n    AOS.init({\n      delay: 150,\n      duration: 250,\n      once: true\n    });\n    const isLogged = localStorage.getItem('loggedIn');\n\n    if (isLogged === 'true') {\n      this.props.history.replace('/account');\n    } else {\n      return;\n    }\n  }\n\n  render() {\n    const {\n      email,\n      password,\n      isLoading\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Helmet, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"title\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 21\n      }\n    }, \"Samhita 20 - Login\")), /*#__PURE__*/React.createElement(Navbar, {\n      name: \"account\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"section login-outer-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      \"data-aos\": \"fade-down\",\n      className: \"container login-inner-container\",\n      style: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"columns\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"column\",\n      style: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'flex-start'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"login-picture\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(LazyLoadImage, {\n      src: LoginImage,\n      alt: \"Login\",\n      effect: \"blur\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 37\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"column\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container register-form-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"login-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"title is-3 is-lato has-text-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 45\n      }\n    }, \"Login to continue\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"control has-icons-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      placeholder: \"E-mail\",\n      className: \"input is-rounded\",\n      value: email,\n      onChange: this.handleEmail,\n      onKeyDown: this.handleKeyPress,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 53\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"icon is-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faEnvelope,\n      color: \"gray\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 57\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"control\",\n      style: {\n        display: 'flex'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"password\",\n      type: \"password\",\n      placeholder: \"Password\",\n      className: \"input is-rounded\",\n      value: password,\n      onChange: this.handlePassword,\n      style: {\n        paddingRight: 35\n      },\n      onKeyDown: this.handleKeyPress,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 53\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      onMouseDown: () => {\n        this.handleMouseDown('password');\n      },\n      onMouseUp: () => {\n        this.handleMouseUp('password');\n      },\n      onTouchStart: () => {\n        this.handleMouseDown('password');\n      },\n      className: \"icon\",\n      style: {\n        cursor: 'pointer',\n        position: 'absolute',\n        right: 10,\n        top: 8\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      className: \"login-password-icon\",\n      icon: faEye,\n      color: \"gray\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 57\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"control\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 49\n      }\n    }, isLoading ? /*#__PURE__*/React.createElement(\"button\", {\n      className: \"button is-rounded is-fullwidth is-link is-lato has-text-weight-semibold register-button is-loading\",\n      disabled: true,\n      onClick: this.handleLogin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 57\n      }\n    }, \"Login\") : /*#__PURE__*/React.createElement(\"button\", {\n      className: \"button is-rounded is-fullwidth is-link is-lato has-text-weight-semibold register-button\",\n      onClick: this.handleLogin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 57\n      }\n    }, \"Login\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"control\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"label is-lato has-text-link has-text-centered\",\n      onClick: this.modal,\n      style: {\n        position: 'relative',\n        marginTop: '35px',\n        marginBottom: '-35px',\n        cursor: 'pointer'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 53\n      }\n    }, \"Forgot password?\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box login-redirect-box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"control\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"subtitle is-6 has-text-centered is-lato has-text-weight-semibold\",\n      onClick: () => this.props.history.push('/register'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 57\n      }\n    }, \"Don't have an account? \", /*#__PURE__*/React.createElement(\"a\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 84\n      }\n    }, \"Sign up\")))))))))))));\n  }\n\n}\n\nexport default withRouter(Login);","map":{"version":3,"sources":["C:/Users/IamNi/Desktop/Samhita/samhita22/Frontend/src/pages/Login.jsx"],"names":["React","Component","withRouter","Helmet","axios","Navbar","AOS","Scroll","FontAwesomeIcon","faEye","faEnvelope","notification","Modal","LazyLoadImage","LoginImage","Login","constructor","handleMouseDown","element","document","getElementById","type","handleMouseUp","handleEmail","email","setState","target","value","handlePassword","password","handleLogin","state","match","isLoading","post","mailid","toLowerCase","pass","then","res","data","islogged","warn","message","description","placement","duration","top","className","onClose","props","history","push","userId","userid","localStorage","setItem","success","replace","catch","err","error","handleKeyPress","e","keyCode","handleMobile","number","mobile","modal","info","centered","title","content","marginTop","paddingRight","paddingLeft","paddingTop","handleKeyPressPassword","handleForgetPassword","onOk","okText","okType","successDescription","color","querySelector","classList","add","phonenumber","remove","status","componentDidMount","scroll","animateScroll","scrollToTop","init","delay","once","isLogged","getItem","render","display","flexDirection","alignItems","cursor","position","right","marginBottom"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { Helmet } from 'react-helmet'\r\nimport axios from 'axios'\r\nimport Navbar from '../components/Navbar'\r\nimport AOS from 'aos'\r\nimport Scroll from 'react-scroll'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faEye } from '@fortawesome/free-solid-svg-icons'\r\nimport { faEnvelope } from '@fortawesome/free-regular-svg-icons'\r\nimport { notification, Modal } from 'antd'\r\nimport { LazyLoadImage } from 'react-lazy-load-image-component'\r\nimport LoginImage from '../assets/Login.png'\r\n\r\nclass Login extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            email: '',\r\n            password: '',\r\n            isLoading: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const scroll = Scroll.animateScroll\r\n        scroll.scrollToTop({\r\n            duration: 100\r\n        })\r\n        AOS.init({\r\n            delay: 150,\r\n            duration: 250,\r\n            once: true\r\n        })\r\n        const isLogged = localStorage.getItem('loggedIn')\r\n        if(isLogged === 'true') {\r\n            this.props.history.replace('/account')\r\n        } else {\r\n            return\r\n        }\r\n    }\r\n\r\n    handleMouseDown = element => {\r\n        document.getElementById(element).type = 'text'\r\n    }\r\n\r\n    handleMouseUp = element => {\r\n        document.getElementById(element).type = 'password'\r\n    }\r\n\r\n    handleEmail = email => {\r\n        this.setState({email: email.target.value})\r\n    }\r\n\r\n    handlePassword = password => {\r\n        this.setState({password: password.target.value})\r\n    }\r\n\r\n    handleLogin = () => {\r\n        const { email, password } = this.state\r\n        if(email && password) {\r\n            if(email.match(/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/)) {\r\n                this.setState({isLoading: true}, () => {\r\n                    axios.post('https://samhita-backend.herokuapp.com/login', {\r\n                        mailid: email.toLowerCase(),\r\n                        pass: password\r\n                    })\r\n                    .then(res => {\r\n                        this.setState({ isLoading: false })\r\n                        if(res.data.islogged === 'email_not') {\r\n                            notification.warn({\r\n                                message: 'Oops!',\r\n                                description: 'It seems that you have not registered yet. Proceed to register',\r\n                                placement: 'topRight',\r\n                                duration: 3,\r\n                                top: 90,\r\n                                className: 'notification',\r\n                                onClose: this.props.history.push('/register')\r\n                            })\r\n                        } else if(res.data.islogged === 'pass_wrong') {\r\n                            notification.warn({\r\n                                message: 'Oops!',\r\n                                description: 'Wrong password. Try again',\r\n                                placement: 'topRight',\r\n                                duration: 3,\r\n                                top: 90,\r\n                                className: 'notification',\r\n                            })\r\n                        } else if(res.data.islogged === 1) {\r\n                            const userId = res.data.userid\r\n                            localStorage.setItem('loggedIn', 'true')\r\n                            localStorage.setItem('id', userId)\r\n                            notification.success({\r\n                                message: 'Welcome',\r\n                                description: 'Login successful!',\r\n                                placement: 'topRight',\r\n                                duration: 2,\r\n                                top: 90,\r\n                                className: 'notification',\r\n                            })\r\n                            this.props.history.replace('/account')\r\n                        }\r\n                    })\r\n                    .catch(err => {\r\n                        this.setState({ isLoading: false })\r\n                        notification.error({\r\n                            message: 'Oops',\r\n                            description: 'An error occurred. Try again',\r\n                            placement: 'topRight',\r\n                            duration: 3,\r\n                            top: 90,\r\n                            className: 'notification',\r\n                        })\r\n                    })\r\n                })\r\n            } else {\r\n                notification.warn({\r\n                    message: 'Oops!',\r\n                    description: 'Enter a valid email address',\r\n                    placement: 'topRight',\r\n                    duration: 3,\r\n                    top: 90,\r\n                    className: 'notification'\r\n                })\r\n            }\r\n        }\r\n        else {\r\n            notification.warn({\r\n                message: 'Not yet!',\r\n                description: 'Fill in all the fields',\r\n                placement: 'topRight',\r\n                duration: 3,\r\n                top: 90,\r\n                className: 'notification'\r\n            })\r\n        }\r\n    }\r\n\r\n    handleKeyPress = e => {\r\n        if(e.keyCode === 13) {\r\n            this.handleLogin()\r\n        }\r\n    }\r\n\r\n    handleMobile = number => {\r\n        this.mobile = number.target.value\r\n    }\r\n\r\n    modal = () => Modal.info({\r\n        centered: true,\r\n        title: 'Enter your registered mobile number',\r\n        content: (\r\n          <div className = 'field has-addons' style = {{marginTop: '10px'}}>\r\n            <div className = 'control'>\r\n                <a className = 'button is-rounded is-static' style = {{paddingRight: '5px', paddingLeft: '6px', paddingTop: '8px'}}>+91</a>\r\n            </div>\r\n            <div className = 'control is-expanded'>\r\n                <input id = 'forget-pwd-input' type = 'text' placeholder = 'Mobile number' className = 'input is-rounded' style = {{paddingLeft: '5px', paddingRight: '5px'}} onKeyDown = {this.handleKeyPressPassword} onChange = {this.handleMobile}/>\r\n            </div>\r\n            <div className = 'control'>\r\n                <button className = 'button is-rounded is-success forgot' onClick = {this.handleForgetPassword}>\r\n                    Get message\r\n                </button>                \r\n            </div>\r\n          </div>\r\n        ),\r\n        onOk() {},\r\n        okText: 'Close',\r\n        okType: 'default'\r\n    })\r\n\r\n    handleKeyPressPassword = e => {\r\n        if(e.keyCode === 13) {\r\n            this.handleForgetPassword()\r\n        }\r\n    }\r\n\r\n    handleForgetPassword = () => {\r\n        const successDescription = <p>Check your registered mobile number. Incase if you didn't receive a message, contact Gowtham: <a href = 'tel: +91 7598130276' style = {{color: '#3273DC'}}>+91 7598130276</a></p> \r\n        document.querySelector('.forgot').classList.add('is-loading')\r\n        if(this.mobile) {\r\n            if(this.mobile.match(/^\\d{10}$/)) {             \r\n                axios.post('https://samhita-backend.herokuapp.com/forgotpassword', {\r\n                    phonenumber: this.mobile\r\n                })\r\n                .then(res => {\r\n                    document.querySelector('.forgot').classList.remove('is-loading')\r\n                    if(res.data.status === 'success') {\r\n                        document.getElementById('forget-pwd-input').value = ''\r\n                        notification.success({\r\n                            message: 'Message sent!',\r\n                            description: successDescription,\r\n                            placement: 'topRight',\r\n                            duration: 0,\r\n                            top: 90,\r\n                            className: 'notification',\r\n                        })\r\n                    } else if(res.data.status === 'failure') {\r\n                        notification.info({\r\n                            message: 'Not registered',\r\n                            description: 'It seems that you have not signed up. Proceed to register',\r\n                            placement: 'topRight',\r\n                            duration: 0,\r\n                            top: 90,\r\n                            className: 'notification',\r\n                            onClose: () => {\r\n                                this.props.history.push('/register')\r\n                            }\r\n                        })\r\n                    }\r\n                }).catch(err => {\r\n                    document.querySelector('.forgot').classList.remove('is-loading')\r\n                    if(err.message === 'Network error') {\r\n                        notification.error({\r\n                            message: 'Oops!',\r\n                            description: 'An error occurred. Try again',\r\n                            placement: 'topRight',\r\n                            duration: 3,\r\n                            top: 90,\r\n                            className: 'notification',\r\n                        })\r\n                    }\r\n                })  \r\n            }\r\n            else {\r\n                document.querySelector('.forgot').classList.remove('is-loading')\r\n                notification.warn({\r\n                    message: 'Oops!',\r\n                    description: 'Enter a valid mobile number',\r\n                    placement: 'topRight',\r\n                    duration: 3,\r\n                    top: 90,\r\n                    className: 'notification',\r\n                })\r\n            }\r\n        } else {\r\n            document.querySelector('.forgot').classList.remove('is-loading')\r\n            notification.warn({\r\n                message: 'Oops!',\r\n                description: 'Enter a mobile number',\r\n                placement: 'topRight',\r\n                duration: 3,\r\n                top: 90,\r\n                className: 'notification',\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { email, password, isLoading } = this.state\r\n        return (\r\n            <div>\r\n                <Helmet>\r\n                    <title>Samhita 20 - Login</title>\r\n                </Helmet>\r\n                <Navbar name = 'account' />\r\n                <section className = 'section login-outer-container'>\r\n                    <div data-aos = 'fade-down' className = 'container login-inner-container' style = {{display: 'flex', flexDirection: 'row', alignItems: 'center'}}>\r\n                        <div className = 'columns'>\r\n                            <div className = 'column' style = {{display: 'flex', flexDirection: 'row', alignItems: 'flex-start'}}>\r\n                                <div className = 'login-picture'>\r\n                                    <LazyLoadImage src = {LoginImage} alt ='Login' effect = 'blur' />\r\n                                </div>\r\n                            </div>\r\n                            <div className = 'column' >\r\n                            <section className = 'section'>\r\n                                    <div className = 'container register-form-container'>\r\n                                        <div className = 'login-form'>\r\n                                            <div className = 'title is-3 is-lato has-text-link'>\r\n                                                Login to continue\r\n                                            </div>\r\n                                            <div className = 'field'>\r\n                                                <div className = 'control has-icons-right'>\r\n                                                    <input type = 'email' placeholder = 'E-mail' className = 'input is-rounded' value = {email} onChange = {this.handleEmail} onKeyDown = {this.handleKeyPress}/>\r\n                                                    <span className = 'icon is-right'>\r\n                                                        <FontAwesomeIcon icon = {faEnvelope} color = 'gray' />\r\n                                                    </span>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className = 'field'>\r\n                                                <div className = 'control' style = {{display: 'flex'}}>\r\n                                                    <input id = 'password' type = 'password' placeholder = 'Password' className = 'input is-rounded' value = {password} onChange = {this.handlePassword} style = {{paddingRight: 35}} onKeyDown = {this.handleKeyPress}/>\r\n                                                    <span onMouseDown = {() => {this.handleMouseDown('password')}} onMouseUp = {() => {this.handleMouseUp('password')}} onTouchStart = { () => {this.handleMouseDown('password')}} className = 'icon' style = {{cursor: 'pointer', position: 'absolute', right: 10, top: 8}}>\r\n                                                        <FontAwesomeIcon className = 'login-password-icon' icon = {faEye} color = 'gray' />\r\n                                                    </span>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className = 'field'>\r\n                                                <div className = 'control'>\r\n                                                    {\r\n                                                        isLoading ?\r\n\r\n                                                        <button className = 'button is-rounded is-fullwidth is-link is-lato has-text-weight-semibold register-button is-loading' disabled onClick = {this.handleLogin}>\r\n                                                            Login\r\n                                                        </button>\r\n\r\n                                                        :\r\n\r\n                                                        <button className = 'button is-rounded is-fullwidth is-link is-lato has-text-weight-semibold register-button' onClick = {this.handleLogin}>\r\n                                                            Login\r\n                                                        </button>\r\n                                                    }\r\n                                                </div>\r\n                                                <div className = 'control'>\r\n                                                    <label className = 'label is-lato has-text-link has-text-centered' onClick = {this.modal} style = {{position: 'relative', marginTop: '35px',marginBottom: '-35px', cursor: 'pointer'}}>Forgot password?</label>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className = 'box login-redirect-box'>\r\n                                                <div className = 'field'>\r\n                                                    <div className = 'control'>\r\n                                                        <div className = 'subtitle is-6 has-text-centered is-lato has-text-weight-semibold' onClick = {() => this.props.history.push('/register')}>\r\n                                                            Don't have an account? <a>Sign up</a>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </section>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(Login)\r\n"]},"metadata":{},"sourceType":"module"}